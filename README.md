<p align="center">
<pre>
â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•
â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  
â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— â•šâ•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â•  
â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â•šâ•â•â•â•šâ•â•â•  â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•   â•šâ•â•  â•šâ•â•   â•šâ•â•   â•šâ•â•â•â•â•â•â•
            ğŸ  Dev Environment â”€â”€â–¶ â˜ï¸ AWS S3 â”€â”€â–¶ ğŸŒ Anywhere
</pre>
</p>

**Ferramenta de Gerenciamento de Ambiente de Desenvolvimento PortÃ¡til**

Workstate Ã© uma poderosa ferramenta CLI que permite aos desenvolvedores preservar e restaurar o estado completo de seus ambientes de desenvolvimento em diferentes mÃ¡quinas. Diferentemente dos sistemas de controle de versÃ£o que focam no cÃ³digo-fonte, o Workstate captura tudo que torna seu ambiente de desenvolvimento Ãºnico - configuraÃ§Ãµes, bancos de dados locais, configuraÃ§Ãµes de IDEs, variÃ¡veis de ambiente e muito mais.




## ğŸ¯ Qual Problema Resolve?

VocÃª jÃ¡ precisou:
- Continuar trabalhando em um projeto de uma mÃ¡quina diferente com exatamente a mesma configuraÃ§Ã£o?
- Preservar bancos de dados de desenvolvimento locais, arquivos de configuraÃ§Ã£o e configuraÃ§Ãµes de IDE?
- Compartilhar um ambiente de desenvolvimento completo com membros da equipe?
- Fazer backup do seu estado de desenvolvimento incluindo arquivos que nÃ£o devem ir para o controle de versÃ£o?

O Workstate resolve esses problemas criando snapshots comprimidos do seu ambiente de desenvolvimento e armazenando-os de forma segura no AWS S3.

## ğŸš€ Principais Funcionalidades

- **SeleÃ§Ã£o Inteligente de Arquivos**: Usa arquivos `.workstateignore` (similar ao `.gitignore`) para definir o que deve ser incluÃ­do no snapshot do ambiente
- **Interface Interativa**: CLI amigÃ¡vel com formataÃ§Ã£o rica e menus interativos
- **RestauraÃ§Ã£o Seletiva**: Baixe estados sem descompactar ou restaure ambientes completos
- **IntegraÃ§Ã£o AWS S3**: Armazenamento seguro na nuvem para seus estados de desenvolvimento
- **Compartilhamento**: Compartilhe/importe estados utilizando URLs prÃ©-assinadas temporÃ¡rias do AWS S3
- **Templates PrÃ©-construÃ­dos**: Vem com templates otimizados para ferramentas de desenvolvimento populares (Python, Node.js, Java, React, Angular, etc.)
- **Multiplataforma**: Funciona no Windows, macOS e Linux

## ğŸ“‹ O Que Ã‰ Capturado
VocÃª Ã© quem manda o que serÃ¡ capturado, mas a soluÃ§Ã£o foi pensada para capturar tudo que o controle de versÃ£o tradicional ignora.

Exemplos:
- **VariÃ¡veis de Ambiente**: `.env`, `.env.local`, arquivos de configuraÃ§Ã£o
- **ConfiguraÃ§Ãµes de IDE**: `.vscode/`, `.idea/`, configuraÃ§Ãµes de editores
- **Scripts locais**: Arquivos de teste, exemplos, scripts de seed, arquivos de contexto (llms) 
- **Bancos de Dados Locais**: Arquivos SQLite, dumps de bancos locais
- **Containers de Desenvolvimento**: Arquivos docker-compose, volumes de containers
- **Artefatos de Build**: Arquivos compilados, dependÃªncias
- **ConfiguraÃ§Ãµes Locais**: ConfiguraÃ§Ãµes especÃ­ficas de ferramentas e preferÃªncias
- **Dados de Desenvolvimento**: Dados de teste, arquivos mock, assets locais

<details>
  <summary><h2>ğŸ”§ InstalaÃ§Ã£o</h2></summary>

Se vocÃª for utilizar o `workstate.exe` ignore esse tÃ³pico.

### PrÃ©-requisitos

- Python 3.8+
- Conta AWS com acesso ao S3
- pip

### DependÃªncias

- **typer**: Framework para CLIs
- **rich**: FormataÃ§Ã£o de terminal
- **boto3**: SDK AWS para Python

### Arquivos de ConfiguraÃ§Ã£o

- **`.workstateignore`**: Define arquivos/diretÃ³rios a serem incluÃ­dos/excluÃ­dos
- **`~/.workstate/config.json`**: Armazena credenciais AWS


### Instalar do CÃ³digo-fonte (somente via Python)

```bash
git clone https://github.com/seuusuario/workstate.git
cd workstate
pip install -r requirements.txt
```

</details>


<details>
  <summary><h2>âš™ï¸ ConfiguraÃ§Ã£o AWS e PermissÃµes</h2></summary>

### 1. Criar uma Conta AWS

Se vocÃª nÃ£o tem uma conta AWS, crie uma em [aws.amazon.com](https://aws.amazon.com).

### 2. Criar um UsuÃ¡rio IAM

1. VÃ¡ para o Console AWS IAM
2. Crie um novo usuÃ¡rio para o Workstate
3. Anexe a polÃ­tica **AmazonS3FullAccess** ou crie uma polÃ­tica personalizada com as seguintes permissÃµes:

```json
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "s3:GetObject",
                "s3:PutObject",
                "s3:DeleteObject",
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::seu-bucket-workstate",
                "arn:aws:s3:::seu-bucket-workstate/*"
            ]
        }
    ]
}
```

### 3. Obter Chaves de Acesso

1. No console IAM, selecione seu usuÃ¡rio
2. VÃ¡ para a aba "Credenciais de seguranÃ§a"
3. Crie chaves de acesso para CLI
4. **Importante**: Salve o Access Key ID e Secret Access Key de forma segura

### 4. Criar um Bucket S3

1. VÃ¡ para o Console AWS S3
2. Crie um novo bucket com um nome Ãºnico (ex: `meu-bucket-workstate-12345`)
3. Escolha sua regiÃ£o preferida
4. Mantenha as configuraÃ§Ãµes padrÃ£o de seguranÃ§a
</details>

<details>
  <summary><h2>ğŸ¯ InÃ­cio RÃ¡pido</h2></summary>

### 1. Configurar Credenciais AWS

```bash
workstate configure
```

Isso solicitarÃ¡:
- **AWS Access Key ID**: A chave de acesso do seu usuÃ¡rio IAM
- **AWS Secret Access Key**: A chave secreta do seu usuÃ¡rio IAM  
- **AWS Region**: A regiÃ£o onde seu bucket S3 estÃ¡ localizado (ex: `us-east-1`, `sa-east-1`)
- **S3 Bucket Name**: O nome do seu bucket S3

ConfiguraÃ§Ã£o nÃ£o-interativa alternativa:
```bash
workstate configure --access-key-id AKIA... --secret-access-key xxx --region us-east-1 --bucket-name meu-bucket --no-interactive
```

### 2. Inicializar Seu Projeto

```bash
# Inicializar com um template especÃ­fico
workstate init --tool python

# Ou usar o template padrÃ£o
workstate init
```

Isso cria um arquivo `.workstateignore` otimizado para sua stack de desenvolvimento.

### 3. Verificar O Que SerÃ¡ Salvo

```bash
workstate status
```

Isso mostra todos os arquivos e diretÃ³rios que serÃ£o incluÃ­dos no snapshot do seu estado.

### 4. Salvar Seu Estado Atual

```bash
workstate save "meu-projeto-v1"
```
Isso compacta todos os arquivos mapeados (os mesmos listados no comando de status) em .zip e carrega para o AWS S3.

### 5. Listar Estados DisponÃ­veis

```bash
workstate list
```
Lista todos os zips no AWS S3 do Workstate.

### 6. Restaurar um Estado
Baixa um estado e descompacta localmente. Caso haja repetiÃ§Ã£o de arquivos, os arquivos repetidos do zip serÃ£o salvos 
como duplicatas seguindo o padrÃ£o (numero_da_duplicata), por exemplo: arquivo.txt, arquivo (1).txt, arquivo (2).txt.
```bash
workstate download
```
Caso queira apenas baixar o estado sem restaura-lo diretamente, use a opÃ§Ã£o `--download-only`, o zip serÃ¡ baixado e 
armazenado numa pasta `downloads` no diretÃ³rio atual.
```bash
workstate download --download-only
```
</details>


<details>
  <summary><h2>ğŸ“– ReferÃªncia de Comandos</h2></summary>

### Comandos DisponÃ­veis

| Comando | DescriÃ§Ã£o | Argumentos | OpÃ§Ãµes |
|---------|-----------|------------|--------|
| `config` | Exibe configuraÃ§Ã£o atual do Workstate | - | - |
| `configure` | Configura credenciais AWS | - | `--access-key-id, -a`, `--secret-access-key, -s`, `--region, -r`, `--bucket-name, -b`, `--interactive, -i` |
| `init` | Inicializa um novo projeto Workstate com arquivo `.workstateignore` | - | `--tool, -t`: Tipo de ferramenta (padrÃ£o: `generic`) |
| `status` | Mostra arquivos rastreados pelo Workstate | - | - |
| `save` | Salva o estado atual do projeto no AWS S3 | `state_name`: Nome Ãºnico para o estado | - |
| `download` | Restaura um estado salvo do AWS S3 | - | `--only-download`: Apenas baixa sem extrair |
| `delete` | Exclui um estado salvo no AWS S3 | - | - |
| `list` | Lista todos os estados disponÃ­veis no AWS S3 | - | - |
| `download-pre-signed` | Restaura um estado salvo do AWS S3 a partir de uma URL prÃ©-assinada | `base_url`, `signature`, `expires`: Componentes da URL prÃ©-assinada | `--no-extract`, `--output, -o` |
| `share` | Gera uma URL prÃ©-assinada do AWS S3 para permitir o download de um estado sem necessidade de autenticaÃ§Ã£o | - | `--expiration, -e`: Horas atÃ© a URL expirar (padrÃ£o: 24) |

### Detalhamento dos Comandos

### `config`
**Funcionalidade:** Exibe configuraÃ§Ã£o AWS atual sem revelar informaÃ§Ãµes sensÃ­veis.

**InformaÃ§Ãµes exibidas:**
- Access Key ID (mascarado)
- RegiÃ£o AWS
- Nome do bucket
- Status da configuraÃ§Ã£o


### `configure`
**Funcionalidade:** Configura credenciais AWS (armazenadas em `~/.workstate/config.json`).

**OpÃ§Ãµes:**
| OpÃ§Ã£o | AbreviaÃ§Ã£o | DescriÃ§Ã£o |
|-------|------------|-----------|
| `--access-key-id` | `-a` | AWS Access Key ID |
| `--secret-access-key` | `-s` | AWS Secret Access Key |
| `--region` | `-r` | RegiÃ£o AWS (ex: us-east-1, sa-east-1) |
| `--bucket-name` | `-b` | Nome do bucket S3 |
| `--interactive` | `-i` | Modo interativo (padrÃ£o: true) |

**Exemplos:**
```bash
# Modo interativo
workstate configure

# Modo nÃ£o-interativo
workstate configure --access-key-id AKIA... --secret-access-key xxx --region us-east-1 --bucket-name my-bucket

# Modo misto
workstate configure --region sa-east-1 --bucket-name my-workstate-bucket
```

### `init`
**Funcionalidade:** Cria arquivo `.workstateignore` com template otimizado para a ferramenta especificada.

**Ferramentas vÃ¡lidas:** `python`, `node`, `java`, `go`, `generic`

**Exemplos:**
```bash
workstate init --tool python
workstate init -t node
workstate init  # usa template generic
```

### `status`
**Funcionalidade:** Visualiza arquivos que serÃ£o incluÃ­dos no prÃ³ximo backup.

**InformaÃ§Ãµes exibidas:**
- Caminhos de arquivos/diretÃ³rios
- Tamanhos individuais
- Total de arquivos e tamanho


### `save`
**Funcionalidade:** Comprime arquivos selecionados e faz upload para S3.

**Processo:**
1. Analisa `.workstateignore`
2. Cria ZIP temporÃ¡rio
3. Upload para S3
4. Remove arquivo temporÃ¡rio

**Exemplos:**
```bash
workstate save my-django-project
workstate save "projeto com espaÃ§os"
```

### `download`
**Funcionalidade:** Interface interativa para restaurar estados salvos.

**Processo:**
1. Lista estados disponÃ­veis
2. SeleÃ§Ã£o interativa
3. Download do ZIP
4. ExtraÃ§Ã£o (opcional)
5. Limpeza de arquivos temporÃ¡rios

**OpÃ§Ãµes:**
| OpÃ§Ã£o | DescriÃ§Ã£o |
|-------|-----------|
| `--only-download` | Baixa apenas o ZIP sem extrair |


### `delete`
**Funcionalidade:** Exclui um estado salvo no AWS S3 de forma interativa.

**Processo:**
1. Lista estados disponÃ­veis
2. SeleÃ§Ã£o interativa do estado a ser excluÃ­do
3. ConfirmaÃ§Ã£o da exclusÃ£o
4. RemoÃ§Ã£o do arquivo do S3


### `share`
**Funcionalidade:** Gera uma URL prÃ©-assinada para compartilhar um estado do projeto sem necessidade de credenciais AWS.

**Processo:**
1. Lista estados disponÃ­veis
2. SeleÃ§Ã£o interativa do estado
3. GeraÃ§Ã£o da URL prÃ©-assinada
4. ExibiÃ§Ã£o da URL e instruÃ§Ãµes de uso

**OpÃ§Ãµes:**
| OpÃ§Ã£o | AbreviaÃ§Ã£o | DescriÃ§Ã£o |
|-------|------------|-----------|
| `--expiration` | `-e` | Horas atÃ© a URL expirar (padrÃ£o: 24) |

**Exemplos:**
```bash
# URL vÃ¡lida por 24 horas (padrÃ£o)
workstate share

# URL vÃ¡lida por 48 horas
workstate share --expiration 48
workstate share -e 48
```


### `download-pre-signed`
**Funcionalidade:** Baixa e restaura um estado do projeto usando uma URL prÃ©-assinada compartilhada.

**Argumentos:**
| Argumento | DescriÃ§Ã£o |
|-----------|-----------|
| `base_url` | URL base sem assinatura ou expiraÃ§Ã£o |
| `signature` | Parte da assinatura da URL prÃ©-assinada |
| `expires` | Timestamp de expiraÃ§Ã£o da URL prÃ©-assinada |

**OpÃ§Ãµes:**
| OpÃ§Ã£o | AbreviaÃ§Ã£o | DescriÃ§Ã£o |
|-------|------------|-----------|
| `--no-extract` | - | NÃ£o extrai o arquivo ZIP apÃ³s o download |
| `--output` | `-o` | Caminho personalizado para o arquivo baixado |

**Exemplos:**
```bash
# Download e extraÃ§Ã£o automÃ¡tica
workstate download-pre-signed "https://bucket.s3.region.amazonaws.com/file.zip" "signature123" "1234567890"

# Apenas download sem extraÃ§Ã£o
workstate download-pre-signed "https://bucket.s3.region.amazonaws.com/file.zip" "signature123" "1234567890" --no-extract

# Download para caminho especÃ­fico
workstate download-pre-signed "https://bucket.s3.region.amazonaws.com/file.zip" "signature123" "1234567890" --output ./downloads/project.zip
```


### `list`
**Funcionalidade:** Lista estados salvos no S3 com informaÃ§Ãµes detalhadas.

**InformaÃ§Ãµes exibidas:**
- Nome do arquivo
- Tamanho
- Data de modificaÃ§Ã£o
- OrdenaÃ§Ã£o por data (mais recente primeiro)

</details>

<details>
  <summary><h2>ğŸ“ Arquivo .workstateignore</h2></summary>

O arquivo `.workstateignore` funciona de forma similar ao `.gitignore`, mas define o que **ignorado** no snapshot do seu estado.
A ideia Ã© ignorar tudo que for referente ao repositÃ³rio. Ele suporta:

- **PadrÃµes glob**: `*.env`, `config/*`, `!.jar`
- **InclusÃ£o de diretÃ³rios**: `/.vscode/`
- **Arquivos especÃ­ficos**: `database.sqlite3`
- **ComentÃ¡rios**: Linhas comeÃ§ando com `#`

### Exemplo .workstateignore para Python:

```gitignore
# Ignora arquivos do repositÃ³rio e mantÃ©m arquivos de desenvolvimento local de um projeto Python
src/
.ruff_cache/
__pycache__
venv
.venv
requirements.txt
pyproject.*
.git
.gitignore
LICENSE
README.md
main.py
logs/
```

</details>

## ğŸ” ConsideraÃ§Ãµes de SeguranÃ§a

### Armazenamento de Credenciais
- Credenciais sÃ£o armazenadas localmente em `~/.workstate/config.json`
- Nunca commite este arquivo no controle de versÃ£o
- Use as melhores prÃ¡ticas do AWS IAM para gerenciamento de credenciais
- Considere usar polÃ­ticas de rotaÃ§Ã£o de credenciais da AWS

### SeguranÃ§a de Dados
- Todos os dados sÃ£o armazenados no seu bucket S3 privado
- Use polÃ­ticas de bucket S3 para restringir acesso
- Considere habilitar criptografia em repouso no S3
- Revise regularmente os logs de acesso do S3

### Melhores PrÃ¡ticas
- Use contas AWS separadas para diferentes projetos
- Implemente polÃ­ticas de acesso de menor privilÃ©gio
- Audite regularmente estados salvos e remova os desnecessÃ¡rios
- Seja consciente sobre dados sensÃ­veis no seu ambiente de desenvolvimento


## âš ï¸ Notas Importantes

### O Que NÃƒO Incluir

Tenha cuidado para nÃ£o incluir no seu `.workstateignore`:
- Arquivos binÃ¡rios grandes que mudam com frequÃªncia
- Arquivos temporÃ¡rios do sistema
- Arquivos especÃ­ficos do SO (`.DS_Store`, `Thumbs.db`)
- Credenciais pessoais que devem permanecer especÃ­ficas da mÃ¡quina

### Limites de Tamanho de Arquivo

- O S3 tem um limite de objeto Ãºnico de 5TB
- Considere as implicaÃ§Ãµes de custo de armazenar estados de desenvolvimento grandes
- Limpe regularmente estados antigos que vocÃª nÃ£o precisa mais

### Compatibilidade Multiplataforma

- Caminhos de arquivos sÃ£o tratados usando `pathlib` do Python para compatibilidade multiplataforma
- DiferenÃ§as de terminaÃ§Ã£o de linha sÃ£o preservadas como estÃ£o
- Links simbÃ³licos podem nÃ£o funcionar entre diferentes sistemas operacionais


<details>
  <summary><h2>ğŸ†˜ SoluÃ§Ã£o de Problemas</h2></summary>

### Problemas Comuns

**Erros de "Access Denied":**
- Verifique se suas credenciais AWS estÃ£o corretas
- Verifique se seu usuÃ¡rio IAM tem permissÃµes S3
- Certifique-se de que o bucket S3 existe e estÃ¡ acessÃ­vel

**"Arquivo .workstateignore nÃ£o encontrado":**
- Execute `workstate init` para criar um
- Certifique-se de estar no diretÃ³rio correto do projeto

**Tempos de upload longos:**
- Verifique seu arquivo `.workstateignore` para arquivos grandes desnecessÃ¡rios
- Considere a velocidade da sua conexÃ£o com a internet
- Use `workstate status` para revisar o que estÃ¡ sendo carregado

**Problemas de configuraÃ§Ã£o:**
- Use `workstate config` para verificar suas configuraÃ§Ãµes atuais
- Re-execute `workstate configure` para atualizar credenciais

</details>


## â­ Apoie o Projeto

Se este projeto foi Ãºtil para vocÃª ou para sua equipe, considere deixar uma **estrela** no repositÃ³rio do GitHub! Isso ajuda outras pessoas a descobrirem o Workstate e me motiva a continuar melhorando a ferramenta.
